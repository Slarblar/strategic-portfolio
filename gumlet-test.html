<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gumlet Video Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #fff;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .video-test {
            margin: 30px 0;
            padding: 20px;
            background: #2a2a2a;
            border-radius: 8px;
        }
        .video-test h2 {
            margin-top: 0;
            color: #4CAF50;
        }
        .video-test iframe {
            width: 100%;
            height: 400px;
            border: 2px solid #4CAF50;
            border-radius: 4px;
        }
        .error {
            color: #f44336;
            padding: 10px;
            background: #3a1a1a;
            border-radius: 4px;
            margin-top: 10px;
        }
        .info {
            color: #2196F3;
            padding: 10px;
            background: #1a2a3a;
            border-radius: 4px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 12px;
        }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            margin-left: 10px;
            font-size: 12px;
        }
        .status.loading { background: #FF9800; }
        .status.loaded { background: #4CAF50; }
        .status.error { background: #f44336; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üé• Gumlet Video Embed Test</h1>
        <p>Testing if Gumlet videos load correctly. Open browser console (F12) for detailed logs.</p>

        <!-- Test 1: A for Adley Hero Video -->
        <div class="video-test">
            <h2>Test 1: A for Adley Hero Video <span class="status loading" id="status1">Loading...</span></h2>
            <div class="info">ID: 68411e53ed94500acc2ec4b2</div>
            <iframe 
                id="video1"
                src="https://play.gumlet.io/embed/68411e53ed94500acc2ec4b2?autoplay=true&loop=true&muted=true&playsinline=true&preload=auto&background=true&posterTime=1"
                allow="autoplay; fullscreen; picture-in-picture; encrypted-media; clipboard-write"
                allowfullscreen
                onload="videoLoaded('video1', 'status1')"
                onerror="videoError('video1', 'status1')"
            ></iframe>
        </div>

        <!-- Test 2: Quarter Machine Hero -->
        <div class="video-test">
            <h2>Test 2: Quarter Machine Hero <span class="status loading" id="status2">Loading...</span></h2>
            <div class="info">ID: 684112f32ea48d13d446c58c</div>
            <iframe 
                id="video2"
                src="https://play.gumlet.io/embed/684112f32ea48d13d446c58c?autoplay=true&loop=true&muted=true&playsinline=true&preload=auto&background=true&posterTime=1"
                allow="autoplay; fullscreen; picture-in-picture; encrypted-media; clipboard-write"
                allowfullscreen
                onload="videoLoaded('video2', 'status2')"
                onerror="videoError('video2', 'status2')"
            ></iframe>
        </div>

        <!-- Test 3: Spacestation Animation Hero -->
        <div class="video-test">
            <h2>Test 3: Spacestation Animation Hero <span class="status loading" id="status3">Loading...</span></h2>
            <div class="info">ID: 68414d69ed94500acc302885</div>
            <iframe 
                id="video3"
                src="https://play.gumlet.io/embed/68414d69ed94500acc302885?autoplay=true&loop=true&muted=true&playsinline=true&preload=auto&background=true&posterTime=1"
                allow="autoplay; fullscreen; picture-in-picture; encrypted-media; clipboard-write"
                allowfullscreen
                onload="videoLoaded('video3', 'status3')"
                onerror="videoError('video3', 'status3')"
            ></iframe>
        </div>

        <!-- Test 4: Repeated Video ID (Suspicious) -->
        <div class="video-test">
            <h2>Test 4: Repeated Video ID <span class="status loading" id="status4">Loading...</span></h2>
            <div class="info">ID: 6840a1250f8d7a051834fe38 (Used 5x in your code - might be placeholder)</div>
            <iframe 
                id="video4"
                src="https://play.gumlet.io/embed/6840a1250f8d7a051834fe38?autoplay=true&loop=true&muted=true&playsinline=true&preload=auto&background=true&posterTime=1"
                allow="autoplay; fullscreen; picture-in-picture; encrypted-media; clipboard-write"
                allowfullscreen
                onload="videoLoaded('video4', 'status4')"
                onerror="videoError('video4', 'status4')"
            ></iframe>
        </div>

        <div class="error" id="error-log" style="display:none;">
            <strong>‚ö†Ô∏è Errors Detected:</strong>
            <div id="error-messages"></div>
        </div>

        <h2>üìã Diagnostic Checklist:</h2>
        <ul>
            <li>‚úÖ If videos load: Your Gumlet setup is correct, issue is in React components</li>
            <li>‚ùå If videos show "Private" or "Access Denied": Check Gumlet Dashboard video privacy settings</li>
            <li>‚ùå If videos show black screen: Video might be processing or encoding</li>
            <li>‚ùå If nothing loads: Check browser console for CORS or network errors</li>
        </ul>

        <h2>üîß Next Steps if Videos Don't Load:</h2>
        <ol>
            <li><strong>Check Video Privacy:</strong> Go to <a href="https://dashboard.gumlet.com" target="_blank" style="color:#4CAF50">Gumlet Dashboard</a></li>
            <li>Select each video and verify it's set to "Public" or "Unlisted"</li>
            <li>Ensure videos are fully processed (not still encoding)</li>
            <li>Check if your Gumlet account has embed permissions enabled</li>
        </ol>
    </div>

    <script>
        console.log('üé¨ Gumlet Video Test Started');
        
        let errorCount = 0;
        const errors = [];

        function videoLoaded(videoId, statusId) {
            console.log(`‚úÖ Video ${videoId} loaded successfully`);
            const status = document.getElementById(statusId);
            status.textContent = 'Loaded ‚úì';
            status.className = 'status loaded';
        }

        function videoError(videoId, statusId) {
            console.error(`‚ùå Video ${videoId} failed to load`);
            const status = document.getElementById(statusId);
            status.textContent = 'Error ‚úó';
            status.className = 'status error';
            
            errorCount++;
            errors.push(`Video ${videoId} failed to load`);
            
            const errorLog = document.getElementById('error-log');
            const errorMessages = document.getElementById('error-messages');
            errorLog.style.display = 'block';
            errorMessages.innerHTML = errors.map(e => `<div>‚Ä¢ ${e}</div>`).join('');
        }

        // Monitor iframe content errors
        window.addEventListener('message', function(event) {
            console.log('Message from iframe:', event.data);
            if (event.data && event.data.error) {
                console.error('Iframe error:', event.data.error);
            }
        });

        // Check after 5 seconds if any videos failed to report status
        setTimeout(() => {
            const statuses = document.querySelectorAll('.status.loading');
            if (statuses.length > 0) {
                console.warn(`‚ö†Ô∏è ${statuses.length} video(s) still loading after 5 seconds`);
                statuses.forEach(s => {
                    s.textContent = 'Timeout ‚è±';
                    s.className = 'status error';
                });
            }
            
            if (errorCount === 0 && statuses.length === 0) {
                console.log('üéâ All videos loaded successfully!');
            }
        }, 5000);
    </script>
</body>
</html>

